<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Essential Drip</title>

    <!-- load CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="css/templatemo-style.css">
    <!-- Templatemo style -->
</head>
<style>
        .container2{
            max-width: 400px;
            margin: auto;
            padding: 20px;
            background-color: transparent ;
            font-family: Arial;

           
        }
        h1{
            margin-bottom: 30px;
        }
        input,
        textarea{
            width: calc(100% - 20px);
            display: block;
            padding: 6px;
            font-size: 20px;
            margin-top: 5px;
            margin-bottom: 15px;
            outline: none;
        }
        textarea{
            height: 100px;
        }

        .container1{
            max-width: 900px;
            margin: auto;
            padding: 20px;
            background-color: transparent;
            font-family: Arial;


        }
        h1{
            text-align: center;
            margin-bottom: 30px;
        }
        table{
            width: 100%;
            border-spacing: 0px;
        }
        th{
            text-align: left;
        }
        table td:focus{
            background-color: #eae9e9;
        }
        td:nth-child(3){
            width: 100px;
        }
        td:last-child{
            text-align: right;
        }
        table th,
        table td{
            padding: 15px 15px;
            outline: none;
        }

     

</style>
<body>

    <div class="container3">
        <div class="row">
            <div class="col-lg-12">
                <header class="text-center tm-site-header">
                    <div class="tm-site-logo"></div>
                    <h1 class="pl-4 tm-site-title">Essential Drip</h1>
                    <hr>
                    <h1><img class="text-center rounded-circle" src="img/logo.jpg" alt="2" style=" height: 300px; width: 300px;"></h1>
                </header>
            </div>
        </div>
        
        <div class="container tm-container-2" id="about">
            <div class="row">
                <div class="col-lg-12">
                    <h2 class="tm-welcome-text text-center">Welcome to Essential Drip!</h2>
                    <h3 class="text-center"> It is a footwear shop selling Unauthorize Authenthic (UA) shoes typically have as high quality as the original shoes.</h3>
                    <br>
                </div>
            </div>
            <hr>
            <hr>
            <div class="row tm-section-mb">
                <div class="col-lg-12">
                    <div class=" tm-timeline-item">
                        <div class="tm-timeline-item-inner">
                            <img src="img/img-01.jpg" alt="Image" class="rounded-circle tm-img-timeline">
                            <div class="tm-timeline-connector">
                                <p class="mb-0">&nbsp;</p>
                            </div>
                            <div class="tm-timeline-description-wrap">
                                <div class="tm-bg-dark tm-timeline-description">
                                    <h3 class="tm-text-green tm-font-400">Otomo Katsuhiro x Nike Dunk Low Steamboy OST Dark Green Light Grey </h3>
                                    <p>In stock.
                                        8-11 US (UA Midtier)
                                        Limited stocks only.</p>
                                   
                                </div>
                            </div>
                        </div>

                        <div class="tm-timeline-connector-vertical"></div>
                    </div>

                    <div class="tm-timeline-item">
                        <div class="tm-timeline-item-inner">
                            <img src="img/img-02.jpg" alt="Image" class="rounded-circle tm-img-timeline">
                            <div class="tm-timeline-connector">
                                <p class="mb-0">&nbsp;</p>
                            </div>
                            <div class="tm-timeline-description-wrap">
                                <div class="tm-bg-dark-light tm-timeline-description">
                                    <h3 class="tm-text-cyan tm-font-400">Nike Air Zoom G.T Cut 2 "Dessert Berry"</h3>
                                    <p>8-11 US ( UA)
                                        Limited stocks only. </p>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="tm-timeline-connector-vertical"></div>
                    </div>

                    <div class="tm-timeline-item">
                        <div class="tm-timeline-item-inner">
                            <img src="img/img-03.jpg" alt="Image" class="rounded-circle tm-img-timeline">
                            <div class="tm-timeline-connector">
                                <p class="mb-0">&nbsp;</p>
                            </div>
                            <div class="tm-timeline-description-wrap">
                                <div class="tm-bg-dark tm-timeline-description">
                                    <h3 class="tm-text-yellow tm-font-400">Nike Dunk Low 'Fleece Swoosh Worn Blue'</h3>
                                    <p>In Stock.
                                        8-11 US.
                                        Limited stocks only.</p>
                               
                                </div>
                            </div>
                        </div>
                        <div class="tm-timeline-connector-vertical"></div>
                    </div>

                    <div class="tm-timeline-item">
                        <div class="tm-timeline-item-inner">
                            <img src="img/img-04.jpg" alt="Image" class="rounded-circle tm-img-timeline">
                            <div class="tm-timeline-connector">
                                <p class="mb-0">&nbsp;</p>
                            </div>
                            <div class="tm-timeline-description-wrap">
                                <div class="tm-bg-dark-light tm-timeline-description">
                                    <h3 class="tm-text-orange tm-font-400">Nike Dunk Low "Valerian Blue" </h3>
                                    <p>8-11 US
                                        Limited stocks only.</p>
                                
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
            <hr>
            <hr>
            <div class="container2">
                <h1>Shoe & User Details</h1>
                <div class="form">
                    <label>Shoe:</label>
                    <input type="text" name="Shoe" id="shoe">
                    <label>Size:</label>
                    <input type="number" name="Size" id="size">
                    <label>Number:</label>
                    <input type="number" name="Number" id="number">
                    <label>Name:</label>
                    <input type="text" name="Name" id="name">
                    <button>Submit</button>
                </div>
            </div>
            
        
            
        <!-- add firebase CDN -->
        <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-database-compat.js"></script>
        
        <script>
            const firebaseConfig = {
                databaseURL: "https://crud-firebase-d0a98-default-rtdb.firebaseio.com/"
            }
            firebase.initializeApp(firebaseConfig)
            // here connection is created with database
            const database = firebase.database()
        
            // run function on click submit btn
            const submit = document.querySelector('button')
            submit.onclick = () => sendData()
        
            // create a function to send data
            function sendData(){
                var shoe = document.querySelectorAll('input')[0]
                var size = document.querySelectorAll('input')[1]
                var number = document.querySelectorAll('input')[2]
                var name = document.querySelectorAll('input')[3]
                
        
                alert("Data Inserted");
        
         
                // set path where data will store
                var listRef = database.ref('user/')
                // but we need firebase generated unique id's to show list data so
                // push() will generate unique id
                var newRef = listRef.push()
                // now set data in db on given path
                newRef.set({
                    // now send our data
                    'shoe': shoe.value,
                    'size': size.value,
                    'number': number.value,
                    'name': name.value
                })
            }
        
        
        
        </script>
        </body>
        
        <body>
        
          <div class="container1">
              <h1>Detail Table</h1>
              <table>
                  <thead>
                      <tr>
                          <th>Shoe</th>
                          <th>Size</th>
                          <th>Number</th>
                          <th>Name</th>
                          <th style="padding-left: 200px;">Actions</th>
                      </tr>
                  </thead>
                  <tbody>
                  </tbody>
              </table>
          </div>
        
        
        <script>
        
          const dataContainer = document.querySelector('tbody')
        
          // give complete path to fetch data as given during sending
          var fetchedData = database.ref('user/')
          fetchedData.on('value', (snapshot) => {
              var data = snapshot.val()
              // now set data in table
              var htmlData = ''
              for(var key in data){
                  var value = data[key]
                  htmlData += `
                      <tr>
                        <td>${value.shoe}</td>
                          <td>${value.size}</td>
                          <td>${value.number}</td>
                          <td>${value.name}</td>
                          <td>
                              <button onclick="readyForUpdate('${key}', this)">Update</button>
                              <button onclick="removeMess('${key}')">Delete</button>
                          </td>
                      </tr>
                  `;
              }
              // we use unique id's as reference to delete and update data
              dataContainer.innerHTML = htmlData
          })
        
          // remove message function
          function removeMess(uniqueId){
              database.ref('user/' + uniqueId).remove()
              // this realtime remove will delete data without any loading
              // as data is updated, it refetch and rerender in html automatically
              alert("Data Removed");
          }
        
          // update function 
          function readyForUpdate(uniqueId, elem){
              // lets ready for update
              // it will get all the td of the tr in which btn in clicked
              var siblingTd = elem.parentElement.parentElement.getElementsByTagName('td')
              // convert first three td to editable
              for(var i = 0; i < siblingTd.length-1; i++){
                  siblingTd[i].contentEditable = true
                  siblingTd[i].classList.add('temp-update-class')
              }
              // also change onclick function
              elem.setAttribute('onclick', `updateNow('${uniqueId}')`)
              elem.innerHTML = 'Send'
          }
        
          // create updateNow function
          function updateNow(uniqueId){
              var contentId = document.querySelectorAll('.temp-update-class')
              // now create obj using same keys as used during sending
              var obj = {
                'shoe': contentId[0].textContent,
                'size': contentId[1].textContent,
                  'number': contentId[2].textContent,
                  'name': contentId[3].textContent
              }
              // create reference to the data first where data will update
              // uniqueId will be the id of each message in db
              var listRef = database.ref('user/' + uniqueId)
              // now provide updated data
              listRef.update(obj)
              // after update new data will rerender automatically
              // same as during delete
              alert("Data Updated");
          }
        
        
        
        </script>

            <!--  row -->
            <hr>
            <hr>
            <div class="row tm-section-mb tm-section-mt" id="contact">
                <div class="col-lg-4 col-md-4 col-sm-12 pr-lg-5 mb-md-0 mb-4">
                    <h3 class="mt-2 mb-3 tm-text-gray">Designer</h3>
                    <img src="img/owner.jpg" class="rounded-circle" alt="..." style=" height: 200px; width: 200px;">
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12 pr-lg-5 mb-md-0 mb-4">
                    <h3 class="mt-2 mb-3 tm-text-gray">Email & Number</h3>
                    <p>malingjohndaniel_act@plmun.edu.ph</p>
                    <p>09959425993</p>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <h3 class="mt-2 mb-3 tm-text-gray">Name</h3>
                    <p>John Daniel S. Maling</p>
                </div>
            </div>
            <hr>
        <hr>
        <!-- Footer -->
        <footer class="row mt-5 mb-5">
            <div class="col-lg-12">
                <p class="text-center tm-text-gray tm-copyright-text mb-0">Copyright &copy;
                    <span class="tm-current-year">2022</span> Essential Drip
                    
                    | Design: <a href="https://web.facebook.com/profile.php?id=100077823576669" class="tm-text-white">Essential Drip</a>
                </p>
            </div>
        </footer>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase.js"></script>

    <script src="js/fireConfig.js"></script>

   <script src="js/myscript.js"></script>
    
</body>
</html>